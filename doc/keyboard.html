<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>PewJS</title>

    <!-- Bootstrap core CSS -->
    <link href="http://maxcdn.bootstrapcdn.com/bootswatch/3.3.1/slate/bootstrap.min.css" rel="stylesheet">
    <link href="assets/doc.css" rel="stylesheet">
    <link href="assets/monokai_sublime.css" rel="stylesheet">
    <link href="assets/ubuntu.css" rel="stylesheet">
    <style>
      body {
        height: 100%;
        background-color: #373737;
        font-family: UbuntuRegular;
        font-size: 14px;
      }
      pre {
        background-color: rgba(0,0,0,0.1);
        border: 0;
        padding:10px;
      }
      h1,h2,h3,h4,h5,h6 {
        color:#D98D00;
      }
    </style>
  </head>

  <body>

    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-3 col-md-2 sidebar">
          <ul class="nav nav-sidebar">
            <li class="active"><a href="#">Overview <span class="sr-only">(current)</span></a></li>
            <li><a href="#">Reports</a></li>
            <li><a href="#">Analytics</a></li>
            <li><a href="#">Export</a></li>
          </ul>

          
          <!-- <ul class="nav nav-sidebar">
            <li><a href="">Nav item</a></li>
            <li><a href="">Nav item again</a></li>
            <li><a href="">One more nav</a></li>
            <li><a href="">Another nav item</a></li>
            <li><a href="">More navigation</a></li>
          </ul>
          <ul class="nav nav-sidebar">
            <li><a href="">Nav item again</a></li>
            <li><a href="">One more nav</a></li>
            <li><a href="">Another nav item</a></li>
          </ul> -->
        </div>
        <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
          <h3 id="keyboard">Keyboard</h3>
<p>Before you binds some keyboard events, you need to enable keyboard event listener.</p>
<pre><code class="lang-javascript">game<span class="preprocessor">.keyboard</span><span class="preprocessor">.init</span>()<span class="comment">;</span></code></pre>
<p><strong>Capture a key</strong> event and execute fn callback:</p>
<pre><code class="lang-javascript">game.keyboard.on(<span class="string">"p"</span>, <span class="keyword">function</span>() { <span class="keyword">...</span> });
// alternatively, you can use the upperchar keycode (<span class="number">80</span> = P)
game.keyboard.on(<span class="number">80</span>, <span class="keyword">function</span>() { <span class="keyword">...</span> });</code></pre>
<p><strong>Capture a group of keys</strong> events and execute fn callback:</p>
<pre><code class="lang-javascript">game.keyboard.on([<span class="string">"space"</span>, <span class="string">"ctrl"</span>, <span class="string">"alt"</span>], <span class="keyword">function</span>(key) {

    <span class="keyword">if</span>(key.code === <span class="number">32</span>) console.log(<span class="string">'You have pressed SPACEBAR'</span>);
    // or (note: key.char is always lower case)
    <span class="keyword">if</span>(key.char === <span class="string">"space"</span>) console.log(<span class="string">'You have pressed SPACEBAR'</span>);
    <span class="keyword">...</span>
});</code></pre>
<p>Note: Binding key(s) with on() always prevent event default. It is possible to bind special keys like <strong>F1</strong> to <strong>F12</strong>, <strong>Esc</strong>, <strong>Return</strong>, etc.. But remember that it will prevent browser native behavior. Ex: Binding an event for F5 will prevent browser refresh.</p>
<p><strong>Stop capturing</strong> key(s):</p>
<pre><code class="lang-javascript">game<span class="preprocessor">.keyboard</span><span class="preprocessor">.off</span>(<span class="number">80</span>)<span class="comment">; // 80 = P</span>
game<span class="preprocessor">.keyboard</span><span class="preprocessor">.off</span>(<span class="string">"a"</span>)<span class="comment">; </span>
game<span class="preprocessor">.keyboard</span><span class="preprocessor">.off</span>([<span class="string">"space"</span>, <span class="string">"ctrl"</span>, <span class="string">"alt"</span>])<span class="comment">;  </span>
game<span class="preprocessor">.keyboard</span><span class="preprocessor">.off</span>()<span class="comment">;  // unbind everything</span></code></pre>
<p><strong>Check</strong> a key <strong>manually</strong>:</p>
<pre><code class="lang-javascript"><span class="keyword">if</span>(game.keyboard.key('<span class="constant">space</span>')) {
    console.<span class="command">log</span>('spacebar pressed!');
}
//<span class="keyword">get</span> an array <span class="keyword">of</span> all pressed keys <span class="keyword">at</span> this very moment
var pressed_keys = game.keyboard.keys();</code></pre>
<p><strong>Trigger manually</strong> a key:</p>
<pre><code class="lang-javascript">game<span class="preprocessor">.keyboard</span><span class="preprocessor">.trigger</span>(<span class="string">"space"</span>)<span class="comment">;</span></code></pre>
<p><strong>Capturing all keys</strong> nonobstructive way. </p>
<p>Important: This is a global callback, and it won&#39;t prevent other callbacks(defined with on()) from being triggered and won&#39;t prevent native browser behavior by default. </p>
<p>To stop propagation, you need to add <code>return false</code> to your onAll() callback. To prevent native behavior, you need to add <code>event.preventDefault()</code> to your onAll() callback.</p>
<pre><code class="lang-javascript">
game.keyboard.on(<span class="string">"p"</span>, <span class="keyword">function</span>() {
    console.log(<span class="string">"pressed 1"</span>);
});
game.keyboard.onAll(<span class="keyword">function</span>(event, key) {
    <span class="keyword">if</span>(key.char === <span class="string">"p"</span>) console.log(<span class="string">"pressed 2"</span>);
});

// when pressing <span class="string">"p"</span>, output will be
// <span class="string">"pressed 2"</span>
// <span class="string">"pressed 1"</span>

<span class="keyword">...</span>

game.keyboard.on(<span class="string">"space"</span>, <span class="keyword">function</span>() {
    console.log(<span class="string">"pressed 1"</span>);
});
game.keyboard.onAll(<span class="keyword">function</span>(event, key) {
    <span class="keyword">if</span>(key.char === <span class="string">"space"</span>) console.log(<span class="string">"pressed 2"</span>);
    <span class="keyword">return</span> false;
});

// when pressing <span class="string">"space"</span>, output will be
// <span class="string">"pressed 2"</span>

<span class="keyword">...</span>

game.keyboard.onAll(<span class="keyword">function</span>(event, key) {
    <span class="keyword">if</span>(key.char === <span class="string">"backspace"</span>) 
        //<span class="keyword">...</span>
        event.preventDefault(); // prevent browser behavior
    }
});</code></pre>
<p><strong>Stop capturing all keys</strong>. It will remove global callback only, but not other callbacks defined with on().</p>
<pre><code class="lang-javascript">game<span class="preprocessor">.keyboard</span><span class="preprocessor">.offAll</span>()<span class="comment">;</span></code></pre>

        </div>
      </div>
    </div>

    <!-- JavaScript -->
    <script src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

  </body>
</html>
