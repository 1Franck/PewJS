<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>PewJS</title>

    <!-- Bootstrap core CSS -->
    <link href="http://maxcdn.bootstrapcdn.com/bootswatch/3.3.1/slate/bootstrap.min.css" rel="stylesheet">
    <link href="assets/doc.css" rel="stylesheet">
    <link href="assets/monokai_sublime.css" rel="stylesheet">
    <link href="assets/ubuntu.css" rel="stylesheet">
  </head>

  <body>
    <div class="container-fluid">
      <div class="sidebar">
        <h4>PewJS doc</h4>
        <hr>
        <ul>
          <li><a href="index.html">Quick Start</a></li>
          <li><a href="project.html">Project</a></li>
          <li><a href="scenes.html">Scenes</a></li>
          <li><a href="layers.html">Canvas layers</a></li>
          <li><a href="keyboard.html">Keyboard</a></li>
          <li><a href="mouse.html">Mouse</a></li>
          <li><a href="resources.html">Resources (images/audio)</a></li>
          <li><a href="scope.html">Scope</a></li>
          <li><a href="utilities.html">Utilities</a></li>
          <li><a href="extending.html">Extending PewJS</a></li>
          <li><a href="license.html">License</a></li>
        </ul>
        <hr>
        <small>Last update:<br>2015-01-10 22:01:37 </small>
      </div>
      <div class="main">
        <h2 id="scenes">Scenes</h2>
<p>Scenes are javascript modules that encapsulate your animation logic and drawing loop. For small project, most of the time, one scene is sufficient, but there is no limit how many scenes you can have.</p>
<p><hr class="sep">
<strong>Create a new scene:</strong> (see <a href="#quick-start">Quick Start</a> boiler plate for more details)</p>
<pre><code class="lang-javascript">game.createScene(<span class="string">'scene_name'</span>, (<span class="keyword">function</span>(){ <span class="keyword">...</span> })());</code></pre>
<p><hr class="sep">
<strong>Request next animation frame</strong>. By default, scene.draw is used</p>
<pre><code class="lang-javascript">scene.draw = <span class="keyword">function</span>() {
    <span class="keyword">...</span>
    // recall scene.draw()
    scene.requestAnim(); 
}</code></pre>
<p><hr class="sep">
<strong>Change</strong> animation <strong>loop</strong> frame <strong>callback</strong></p>
<pre><code class="lang-javascript">scene.draw = <span class="keyword">function</span>() {
    <span class="keyword">...</span>
    <span class="keyword">if</span>(foo === <span class="string">"bar"</span>) {
        <span class="keyword">return</span> scene.draw2();
    }
    scene.requestAnim();
}

scene.draw2 = <span class="keyword">function</span>() {
    <span class="keyword">...</span>
    scene.requestAnim(scene.draw2);
}</code></pre>
<p><hr class="sep">
<strong>Pause</strong> the animation loop</p>
<pre><code class="lang-javascript">scene.draw = <span class="keyword">function</span>() {
    <span class="keyword">...</span>
    <span class="keyword">if</span>(foo === <span class="string">"bar"</span>) {
        <span class="keyword">return</span> scene.cancelAnim();
    }
    scene.requestAnim();
}</code></pre>
<p><hr class="sep">
<strong>Toggle</strong> the loop (request/cancel)</p>
<pre><code class="lang-javascript">// example of pause toggle button
game<span class="preprocessor">.keyboard</span><span class="preprocessor">.on</span>(<span class="string">"p"</span>, function(){
    scene<span class="preprocessor">.toggleAnim</span>()<span class="comment">;</span>
})<span class="comment">;</span></code></pre>
<p><hr class="sep">
<strong>Check</strong> the loop status (idle/playing)</p>
<pre><code class="lang-javascript"><span class="keyword">if</span>(scene.is(<span class="string">'idle'</span>)) { <span class="keyword">...</span> }
<span class="keyword">...</span>
<span class="keyword">if</span>(scene.is(<span class="string">'playing'</span>)) { <span class="keyword">...</span> }</code></pre>

      </div>
    </div>

    <!-- JavaScript -->
    <script src="assets/jquery-2.1.3.min.js"></script>
    <script src="assets/bootstrap.min.js"></script>
    <script src="assets/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

  </body>
</html>
