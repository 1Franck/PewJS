<!DOCTYPE html>
<html>
<head>
  <title>PewJS | Image loading</title>
  <link rel="stylesheet" href="assets/demo.css">
</head>
<body class="demo-body">


  <div class="container">
    <h1>Image loading</h1>
  </div>

<br>
<pre class="code-src"><code class="javascript">var game = Pew.createProject({
    title : "image loading",
    resources : {
        name: "map",
        src:  "assets/img/scene.png",
    }
});

game.createScene("mainScene", (function(){

    var img;

    //...

    /**
     * Called once when animation start
     */
    scene.init = function() {
        img.data = game.resources.get("map");
    };

    /**
     * Update loop
     */
    scene.update = function() {
        if(img.x < -(4096-500)) img.x = 0;
        img.x = img.x - 1;
    };

    /**
     * Draw loop
     */
    scene.draw = function() {
        scene.update();
        layerA.clear();
        layerA.ctx.drawImage(img.data, img.x, 0, img.data.width, img.data.height);
        scene.requestAnim();
    };

})());

game.resources.load(game.conf.resources,

    function() {
        game.start("mainScene");
    },
    function(p) {
        console.log(p.progress);
    }
);
</code></pre>

  <script src="assets/Pew.js"></script>
  <script src="scripts/basic-image.js"></script>

  <link rel="stylesheet" href="assets/monokai_sublime.css">
  <script src="assets/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
</body>
</html>